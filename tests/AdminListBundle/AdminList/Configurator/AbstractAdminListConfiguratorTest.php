<?php

namespace Tests\Kunstmaan\AdminListBundle\AdminList;

use Kunstmaan\AdminListBundle\AdminList\BulkAction\SimpleBulkAction;
use PHPUnit_Framework_TestCase;
use Symfony\Component\HttpFoundation\Request;
use Symfony\Component\HttpFoundation\Session\Session;

/**
 * Generated by PHPUnit_SkeletonGenerator on 2012-09-13 at 16:18:47.
 */
class AbstractAdminListConfiguratorTest extends PHPUnit_Framework_TestCase
{
    /**
     * @var ConcreteConfigurator
     */
    protected $object;

    /**
     * Sets up the fixture, for example, opens a network connection.
     * This method is called before a test is executed.
     */
    protected function setUp()
    {

        $session = $this->createMock(Session::class);
        $session->expects($this->any())->method('has')->willReturn(true);
        $session->expects($this->any())->method('get')->willReturn([
            'page' => 1,
            'orderBy' => 'id',
            'orderDirection' => 'ASC',
        ]);
        $request = new Request();
        $request->setSession($session);
        $request->query->add([
            '_route' => 'some-route',
        ]);
        $config = new ConcreteConfigurator();
        $config->bindRequest($request);
        $this->object = $config;
    }

    public function testGetSet()
    {
        $config = $this->object;

        $config->setAdminTypeOptions(['test' => 123]);

        $this->assertEquals('id', $config->getOrderBy());
        $this->assertEquals('ASC', $config->getOrderDirection());
        $this->assertEquals(1, $config->getPage());
        $this->assertEquals(10, $config->getLimit());
        $this->assertCount(1, $config->getAdminTypeOptions());
        $this->assertArrayHasKey('test', $config->getAdminTypeOptions());
    }
}
